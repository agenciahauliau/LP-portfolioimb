async function enviar(){const url=window.location.hostname.replace(/^[^/]*\/\/\w+.|(www.)/g,"");const myHeaders=new Headers();myHeaders.append("Content-Type","application/json");let compraOuVenda=async()=>{let resp=[];if(document.querySelector("#formCheck-1").checked)resp.push("Vender");if(document.querySelector("#formCheck-2").checked)
resp.push("Comprar");if(document.querySelector("#formCheck-3").checked)resp.push("Alugar");return await`${resp.filter((el)=>el!=null)}`;};let contatoPor=()=>{var radios=document.getElementsByName("localCom");for(var i=0;i<radios.length;i++){if(radios[i].checked){return radios[i].value;}}};let raw=JSON.stringify({de:`site@${url}`,para:['alessandro@portfolio.imb.br','mkt@hi4u.me'],assunto:`Solciitação de contato pelo formulário do site ${url}`,mensagem:`Novo contato do site\n\nTipo de negociação pretendida:${compraOuVenda()}\n\nNome:${document.querySelector('input[type="text"]').value}\n\nEmail:${document.querySelector('input[type="email"]').value}\n\nTelefone:${document.querySelector('input[type="tel"]').value}\n\nPreferência de contato por:${await contatoPor()}`,});const requestOptions={method:"POST",headers:myHeaders,body:raw,};return await fetch("https://services.rangell.com.br/v1/enviar",requestOptions).then((response)=>response.text()).then((result)=>{console.log(result);document.querySelector('input[type="text"]').value="";document.querySelector('input[type="email"]').value="";document.querySelector('input[type="tel"]').value="";}).catch((error)=>{console.log("error",error);window.alert("Um erro inesperado aconteceu, seu email foi enviado mas aconteceu algo no caminho, tente novamente.");});}
async function executaEnvio(){document.querySelector('#botao').disabled=true;await enviar();flow('#botao');document.querySelector('#botao').disabled=false;}
function request(element){document.querySelector(element).classList.add('-request');}
function success(element){document.querySelector(element).classList.remove('-request');document.querySelector(element).classList.add('-success');}
function reset(element){document.querySelector(element).classList.remove('-success');}
function flow(element){request(element);setTimeout(()=>{success(element);},2150);setTimeout(()=>{reset(element);},4000);}